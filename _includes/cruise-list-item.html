{% comment %}Pass cruise data as 'cruise' variable{% endcomment %}
<div class="cruise-item" data-destination="{{ cruise.destination }}" data-cruiseline="{{ cruise.cruiseLine }}" data-port="{{ cruise.departurePort }}" data-month="{{ cruise.departureDate | date: '%Y-%m' }}" data-nights="{{ cruise.nights }}" data-price="{{ cruise.priceFrom }}" data-tags="{{ cruise.tags | join: ',' }}" data-featured="{{ cruise.featured }}">
  <div class="cruise-item-image">
    {% if cruise.image and cruise.image != "default-cruise.jpg" %}
    <img src="{{ '/assets/images/' | append: cruise.image | relative_url }}" alt="{{ cruise.title }}" loading="lazy">
    {% else %}
    <div class="placeholder">ğŸš¢</div>
    {% endif %}
  </div>
  <div class="cruise-item-body">
    <div>
      <div style="margin-bottom:6px;">
        {% for tag in cruise.tags %}
        <span class="tag tag-{{ tag }}">{{ tag }}</span>
        {% endfor %}
      </div>
      <div class="cruise-item-meta">{{ cruise.cruiseLineName }} Â· {{ cruise.ship }}</div>
      <div class="cruise-item-title">
        {% assign detail_page = site.cruises | where: "cruise_id", cruise.id | first %}
        {% if detail_page %}
        <a href="{{ detail_page.url | relative_url }}">{{ cruise.title }}</a>
        {% else %}
        {{ cruise.title }}
        {% endif %}
      </div>
      <div class="cruise-item-ports">ğŸ“ {{ cruise.ports | join: " â†’ " }}</div>
      {% if cruise.hashtags %}
      <div class="cruise-item-hashtags">
        {% for ht in cruise.hashtags %}<span class="hashtag">{{ ht }}</span>{% endfor %}
      </div>
      {% endif %}
    </div>
    <div class="cruise-item-footer">
      <div class="cruise-item-row">
        <div class="cruise-item-info">
          <span class="cruise-date-range" data-depart="{{ cruise.departureDate }}" data-return="{{ cruise.returnDate }}">ğŸ“… {{ cruise.departureDate }} ~ {{ cruise.returnDate }}</span>
          <span>ğŸŒ™ {{ cruise.nights }}ë°•</span>
        </div>
        <div class="cruise-item-price">${{ cruise.priceFrom }}~ <small>/1ì¸</small></div>
      </div>
      <div class="cruise-item-actions">
        {% if detail_page %}
        <a href="{{ detail_page.url | relative_url }}" class="btn btn-outline btn-sm">ìƒì„¸ë³´ê¸°</a>
        {% else %}
        <a href="{{ '/cruise-view/?id=' | append: cruise.id | relative_url }}" class="btn btn-outline btn-sm">ìƒì„¸ë³´ê¸°</a>
        {% endif %}
        <button class="btn btn-primary btn-sm" onclick="openInquiry('{{ cruise.title }}','{{ cruise.departureDate }}','{{ cruise.priceFrom }}','{{ cruise.cruiseLineName }}','{{ cruise.ship }}','{{ cruise.ports | join: ", " }}')">ë¬¸ì˜í•˜ê¸°</button>
      </div>
    </div>
  </div>
</div>
