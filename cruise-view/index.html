---
layout: default
title: í¬ë£¨ì¦ˆ ìƒì„¸ë³´ê¸°
---

<div id="cruise-detail-loading" style="text-align:center;padding:80px 20px;">
  <p style="font-size:18px;">í¬ë£¨ì¦ˆ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>
</div>

<div id="cruise-detail-content" style="display:none;">

<!-- Hero -->
<div class="detail-hero" id="cd-hero">
  <div class="container">
    <p style="font-size:14px;opacity:0.8;margin-bottom:8px;" id="cd-hero-sub"></p>
    <h1 id="cd-title"></h1>
    <div class="meta" id="cd-meta"></div>
    <div id="cd-tags-area"></div>
    <div style="margin-top:20px;">
      <span style="font-size:32px;font-weight:900;" id="cd-price-hero"></span>
      <span style="opacity:0.8;">/1ì¸</span>
    </div>
    <div class="cta-buttons" style="margin-top:20px;justify-content:flex-start;">
      <button class="btn btn-primary btn-lg" id="cd-inquiry-hero">ğŸ“ ë¬¸ì˜í•˜ê¸°</button>
      <a href="https://pf.kakao.com/_xgYbJG" target="_blank" class="btn btn-kakao btn-lg">ğŸ’¬ ì¹´ì¹´ì˜¤í†¡ ìƒë‹´</a>
      <a href="tel:02-3788-9119" class="btn btn-outline btn-lg" style="border-color:white;color:white;">â˜ï¸ 02-3788-9119</a>
    </div>
  </div>
</div>

<!-- Main Image -->
<div class="container" style="margin-top:24px;">
  <div id="cd-main-image" style="display:none;border-radius:16px;overflow:hidden;box-shadow:0 8px 32px rgba(0,0,0,0.15);margin-bottom:24px;">
    <img id="cd-main-img" src="" alt="" style="width:100%;max-height:400px;object-fit:cover;display:block;" loading="lazy">
  </div>
</div>

<!-- Info Bar -->
<div class="container">
  <div class="info-bar" id="cd-info-bar"></div>
</div>

<!-- Itinerary -->
<div class="section">
  <div class="container">
    <h2 class="section-title">ğŸ—“ï¸ ìƒì„¸ ì¼ì •</h2>
    <p class="section-subtitle" id="cd-itin-sub"></p>
    <div class="itinerary-summary">
      <div class="itinerary-summary-inner">
        <span class="itinerary-route" id="cd-route"></span>
      </div>
    </div>
    <div id="cd-itinerary-detail" style="margin-top:32px;"></div>
  </div>
</div>

<!-- Cabins -->
<div class="section section-alt" id="cd-cabins-section" style="display:none;">
  <div class="container">
    <h2 class="section-title">ğŸ›ï¸ ê°ì‹¤ & ìš”ê¸ˆ</h2>
    <p class="section-subtitle">1ì¸ ê¸°ì¤€ ìš”ê¸ˆ (2ì¸ 1ì‹¤ ê¸°ì¤€)</p>
    <div id="cd-cabins" style="display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:16px;margin-top:20px;"></div>
    <p style="margin-top:16px;font-size:13px;color:#888;">â€» ìš”ê¸ˆì€ ì˜ˆê³  ì—†ì´ ë³€ë™ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì •í™•í•œ ìš”ê¸ˆì€ ë¬¸ì˜í•´ì£¼ì„¸ìš”.</p>
  </div>
</div>

<!-- Included/Excluded -->
<div class="section" id="cd-include-section" style="display:none;">
  <div class="container">
    <h2 class="section-title">ğŸ“‹ í¬í•¨ / ë¶ˆí¬í•¨ ì‚¬í•­</h2>
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:24px;margin-top:20px;" id="cd-include-grid">
    </div>
  </div>
</div>

<!-- Ship Info -->
<div class="section section-alt" id="cd-ship-section" style="display:none;">
  <div class="container">
    <h2 class="section-title" id="cd-ship-title"></h2>
    <div class="ship-specs" id="cd-ship-specs"></div>
    <div id="cd-ship-facilities" style="margin-top:32px;display:none;">
      <h3 style="font-size:18px;font-weight:700;color:#1a237e;margin-bottom:16px;">ì£¼ìš” ì‹œì„¤</h3>
      <div class="facility-tabs" id="cd-facility-tabs"></div>
      <div class="facility-content" id="cd-facility-content"></div>
    </div>
  </div>
</div>

<!-- CTA -->
<div class="cta-section">
  <div class="container">
    <h2>ì´ í¬ë£¨ì¦ˆê°€ ë§ˆìŒì— ë“œì…¨ë‚˜ìš”?</h2>
    <p>í¬ë£¨ì¦ˆë§í¬ ì „ë¬¸ ìƒë‹´ì›ì´ ìµœì ì˜ ê°ì‹¤ê³¼ ê°€ê²©ì„ ì•ˆë‚´í•´ë“œë¦½ë‹ˆë‹¤.</p>
    <div class="cta-buttons">
      <button class="btn btn-primary btn-lg" id="cd-inquiry-bottom">ğŸ“ ë¬¸ì˜í•˜ê¸°</button>
      <a href="https://pf.kakao.com/_xgYbJG" target="_blank" class="btn btn-kakao btn-lg">ğŸ’¬ ì¹´ì¹´ì˜¤í†¡ ìƒë‹´</a>
      <a href="tel:02-3788-9119" class="btn btn-outline btn-lg" style="border-color:white;color:white;">â˜ï¸ 02-3788-9119</a>
    </div>
  </div>
</div>

</div><!-- /cruise-detail-content -->

<div id="cruise-detail-error" style="display:none;text-align:center;padding:80px 20px;">
  <h2>í¬ë£¨ì¦ˆë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤</h2>
  <p>ìš”ì²­í•˜ì‹  í¬ë£¨ì¦ˆ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
  <a href="/cruiselink-blog/" class="btn btn-primary" style="margin-top:20px;">ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸°</a>
</div>

<style>
/* Day card styles */
.day-card { background:#fff; border:2px solid #e8eaf6; border-radius:16px; margin-bottom:24px; overflow:hidden; transition:border-color .2s; }
.day-card:hover { border-color:#1a237e; }
.day-card-header { display:flex; align-items:center; gap:16px; padding:20px 24px; background:linear-gradient(135deg,#e8eaf6,#f5f5f5); }
.day-num { background:#1a237e; color:#fff; border-radius:10px; padding:6px 14px; font-weight:900; font-size:13px; white-space:nowrap; }
.day-card.sea .day-num { background:#5c6bc0; }
.day-port-name { font-size:20px; font-weight:800; color:#1a237e; }
.day-card.sea .day-port-name { color:#5c6bc0; }
.day-type-badge { font-size:11px; padding:3px 10px; border-radius:10px; background:#e8eaf6; color:#1a237e; font-weight:600; }
.day-card-image { width:100%; max-height:280px; object-fit:cover; display:block; }
.day-card-body { padding:24px; }
.day-headline { font-size:15px; color:#333; margin-bottom:16px; line-height:1.6; }
.day-section-title { font-size:14px; font-weight:700; color:#1a237e; margin:16px 0 8px; }
.tour-item { background:#f8f9fa; border-radius:10px; padding:14px; margin-bottom:10px; }
.tour-name { font-weight:700; color:#333; }
.tour-meta { font-size:12px; color:#ff6f00; font-weight:600; margin-top:2px; }
.tour-desc { font-size:13px; color:#666; margin-top:4px; line-height:1.5; }
.free-item { padding:6px 0; font-size:13px; color:#555; }
.free-item::before { content:'ğŸš¶ '; }
.tip-box { background:#fff8e1; border-radius:10px; padding:14px; margin-top:12px; font-size:13px; color:#666; line-height:1.6; }
.tip-box::before { content:'ğŸ’¡ '; font-weight:700; }
.dining-box { background:#fce4ec; border-radius:10px; padding:12px 14px; margin-top:10px; font-size:13px; color:#666; }
.dining-box::before { content:'ğŸ½ï¸ '; font-weight:700; }
.day-toggle { display:block; width:100%; padding:12px; background:#f5f5f5; border:none; border-top:1px solid #e8eaf6; cursor:pointer; font-size:13px; color:#1a237e; font-weight:600; }
.day-toggle:hover { background:#e8eaf6; }
.day-expandable { display:none; padding:0 24px 16px; }
.day-expandable.open { display:block; }
.sea-activities { display:grid; grid-template-columns:repeat(auto-fill,minmax(200px,1fr)); gap:10px; }
.sea-activity { background:#e8eaf6; border-radius:10px; padding:12px; text-align:center; font-size:13px; color:#1a237e; font-weight:600; }

/* Cabin cards */
.cabin-card { background:#fff; border:2px solid #cfd8dc; border-radius:12px; padding:20px; text-align:center; transition:border-color .2s; }
.cabin-card:hover { border-color:#1a237e; }
.cabin-card.unavailable { opacity:.5; }
.cabin-type { font-size:15px; font-weight:700; color:#1a237e; }
.cabin-type-en { font-size:12px; color:#888; }
.cabin-price { font-size:22px; font-weight:900; color:#ff6f00; margin-top:10px; }
.cabin-price.na { font-size:14px; color:#aaa; }

/* Include/Exclude */
.include-list { list-style:none; padding:0; }
.include-list li { padding:6px 0; font-size:14px; }
.include-list li::before { margin-right:8px; }
.include-list.included li::before { content:'âœ…'; }
.include-list.excluded li::before { content:'âŒ'; }

/* Facility tabs */
.facility-tabs { display:flex; gap:0; border-bottom:2px solid #e8eaf6; margin-bottom:20px; overflow-x:auto; }
.facility-tab { padding:10px 20px; font-size:14px; font-weight:600; color:#888; cursor:pointer; border-bottom:3px solid transparent; white-space:nowrap; transition:all .2s; }
.facility-tab:hover { color:#1a237e; }
.facility-tab.active { color:#1a237e; border-bottom-color:#ff6f00; }
.facility-content { display:flex; gap:24px; align-items:flex-start; }
.facility-desc { flex:1; }
.facility-desc h4 { font-size:18px; font-weight:700; color:#1a237e; margin-bottom:8px; }
.facility-desc p { font-size:14px; color:#555; line-height:1.7; }

@media (max-width:768px) {
  .day-card-header { flex-wrap:wrap; gap:8px; padding:16px; }
  .day-card-body { padding:16px; }
  #cd-include-grid { grid-template-columns:1fr; }
}
</style>

<script>
var portsDB = {};
var shipsDB = {};

(function(){
  var params = new URLSearchParams(window.location.search);
  var cruiseId = params.get('id');
  if (!cruiseId) { showError(); return; }

  // Load cruise data, ports DB, and ships DB
  Promise.all([
    fetch('/cruiselink-blog/assets/data/cruises.json').then(function(r){ return r.json(); }),
    fetch('/cruiselink-blog/assets/data/ports.json').then(function(r){ return r.json(); }).catch(function(){ return {}; }),
    fetch('/cruiselink-blog/assets/data/ships.json').then(function(r){ return r.json(); }).catch(function(){ return {}; })
  ]).then(function(results){
    var data = results[0];
    portsDB = results[1];
    shipsDB = results[2];
    var c = null;
    for (var i = 0; i < data.length; i++) {
      if (data[i].id === cruiseId) { c = data[i]; break; }
    }
    if (!c) { showError(); return; }
    render(c);
  }).catch(function(){ showError(); });

  function showError(){
    document.getElementById('cruise-detail-loading').style.display = 'none';
    document.getElementById('cruise-detail-error').style.display = 'block';
  }

  function lookupPort(portName) {
    if (portsDB[portName]) return portsDB[portName];
    // Try partial match
    for (var key in portsDB) {
      if (portName.indexOf(key) >= 0 || key.indexOf(portName) >= 0) return portsDB[key];
    }
    return null;
  }

  function render(c){
    var sym = c.currency === 'EUR' ? 'â‚¬' : '$';
    var ports = c.ports || [];
    var nights = c.nights || 0;
    var days = nights + 1;

    // Hero
    document.getElementById('cd-hero-sub').textContent = (c.cruiseLineName || '') + ' Â· ' + (c.ship || '');
    document.getElementById('cd-title').textContent = c.title || '';
    document.getElementById('cd-meta').innerHTML = 'ğŸ“… ' + (c.departureDate || '') + ' ì¶œë°œ Â· ğŸŒ™ ' + nights + 'ë°• Â· ğŸ“ ' + (c.departurePort || '') + ' ì¶œë°œ';
    document.getElementById('cd-price-hero').textContent = c.priceFrom ? sym + Number(c.priceFrom).toLocaleString() + '~' : 'ê°€ê²©ë¬¸ì˜';

    // Hero background image
    var shipImgUrl = '';
    if (c.image && c.image !== 'default-cruise.jpg') {
      shipImgUrl = (c.image.indexOf('http') === 0) ? c.image : '/cruiselink-blog/assets/images/' + c.image;
      document.getElementById('cd-hero').style.backgroundImage = 'linear-gradient(rgba(0,20,60,0.55),rgba(0,20,60,0.75)), url(' + shipImgUrl + ')';
    }

    // Main representative image (below hero)
    if (shipImgUrl) {
      document.getElementById('cd-main-img').src = shipImgUrl;
      document.getElementById('cd-main-img').alt = (c.ship || '') + ' - ' + (c.title || '');
      document.getElementById('cd-main-image').style.display = 'block';
    }

    // Tags
    if (c.tags && c.tags.length) {
      var tagHtml = '<div style="margin-top:12px;">';
      c.tags.forEach(function(t){ tagHtml += '<span class="tag">' + t + '</span> '; });
      tagHtml += '</div>';
      document.getElementById('cd-tags-area').innerHTML = tagHtml;
    }
    // Hashtags
    if (c.hashtags && c.hashtags.length) {
      var htHtml = '<div style="margin-top:8px;">';
      c.hashtags.forEach(function(h){ htHtml += '<span style="display:inline-block;background:#e8eaf6;color:#1a237e;padding:4px 10px;border-radius:15px;font-size:12px;font-weight:600;margin:2px 4px;">' + h + '</span>'; });
      htHtml += '</div>';
      document.getElementById('cd-tags-area').innerHTML += htHtml;
    }

    // Info bar
    document.getElementById('cd-info-bar').innerHTML =
      '<div class="info-bar-item"><div class="label">ì„ ì‚¬</div><div class="value">' + (c.cruiseLineName||'') + '</div></div>' +
      '<div class="info-bar-item"><div class="label">ì„ ë°•</div><div class="value">' + (c.ship||'') + '</div></div>' +
      '<div class="info-bar-item"><div class="label">ì¶œë°œí•­</div><div class="value">' + (c.departurePort||'') + '</div></div>' +
      '<div class="info-bar-item"><div class="label">ê¸°ê°„</div><div class="value">' + nights + 'ë°• ' + days + 'ì¼</div></div>' +
      '<div class="info-bar-item"><div class="label">ê°€ê²©</div><div class="value" style="color:var(--orange);">' + (c.priceFrom ? sym + Number(c.priceFrom).toLocaleString() + '~' : 'ë¬¸ì˜') + '</div></div>';

    // Itinerary
    document.getElementById('cd-itin-sub').textContent = nights + 'ë°• ' + days + 'ì¼ í¬ë£¨ì¦ˆ ì—¬ì •';
    var itinerary = c.itinerary || [];

    if (itinerary.length > 0) {
      var routePorts = itinerary.map(function(d){ return d.port; }).filter(function(p){ return p !== 'ì¢…ì¼í•­í•´' && p !== 'Day at Sea'; });
      document.getElementById('cd-route').textContent = 'ğŸ“ ' + routePorts.join(' â†’ ');

      var html = '';
      itinerary.forEach(function(d){
        var isSea = (d.type === 'í•­í•´' || d.port === 'ì¢…ì¼í•­í•´' || d.port === 'Day at Sea');
        var portInfo = isSea ? null : lookupPort(d.port);

        html += '<div class="day-card' + (isSea ? ' sea' : '') + '">';
        
        // Header
        html += '<div class="day-card-header">';
        html += '<span class="day-num">DAY ' + d.day + '</span>';
        html += '<span class="day-port-name">' + (isSea ? 'ğŸŒŠ ì¢…ì¼ í•­í•´' : (portInfo ? (portInfo.emoji || 'ğŸ“') + ' ' : 'ğŸ“ ') + (d.port || 'ë¯¸ì •')) + '</span>';
        if (d.type && !isSea) html += '<span class="day-type-badge">' + d.type + '</span>';
        html += '</div>';

        // Port image
        if (isSea) {
          // Sea day: use ship image
          if (shipImgUrl) html += '<img class="day-card-image" src="' + shipImgUrl + '" alt="ì¢…ì¼ í•­í•´" loading="lazy">';
        } else if (portInfo && portInfo.image) {
          html += '<img class="day-card-image" src="' + portInfo.image + '" alt="' + (d.port || '') + '" loading="lazy">';
        }

        // Body
        html += '<div class="day-card-body">';
        
        if (isSea) {
          // Sea day content
          html += '<div class="day-headline">ë°”ë‹¤ ìœ„ì—ì„œ ë³´ë‚´ëŠ” ì—¬ìœ ë¡œìš´ í•˜ë£¨. ì„ ë‚´ ì‹œì„¤ì„ ë§ˆìŒê» ì¦ê¸°ì„¸ìš”!</div>';
          html += '<div class="sea-activities">';
          html += '<div class="sea-activity">ğŸŠ ìˆ˜ì˜ì¥ & í’€ë°í¬</div>';
          html += '<div class="sea-activity">ğŸ’† ìŠ¤íŒŒ & ì›°ë‹ˆìŠ¤</div>';
          html += '<div class="sea-activity">ğŸ­ ì‡¼ & ê³µì—°</div>';
          html += '<div class="sea-activity">ğŸ›ï¸ ë©´ì„¸ ì‡¼í•‘</div>';
          html += '</div>';
        } else if (portInfo) {
          // Rich port content
          html += '<div class="day-headline">' + portInfo.description + '</div>';
          
          // Expandable section
          html += '<div class="day-expandable" id="expand-day-' + d.day + '">';
          
          // Tours
          if (portInfo.tours && portInfo.tours.length) {
            html += '<div class="day-section-title">ğŸ¯ ì¶”ì²œ ê¸°í•­ì§€ íˆ¬ì–´</div>';
            portInfo.tours.forEach(function(t){
              html += '<div class="tour-item">';
              html += '<div class="tour-name">' + t.name + '</div>';
              html += '<div class="tour-meta">' + (t.price||'') + ' Â· ' + (t.duration||'') + '</div>';
              html += '<div class="tour-desc">' + (t.desc||'') + '</div>';
              html += '</div>';
            });
          }

          // Free activities
          if (portInfo.freeActivities && portInfo.freeActivities.length) {
            html += '<div class="day-section-title">ğŸš¶ ììœ ì—¬í–‰ ì¶”ì²œ</div>';
            portInfo.freeActivities.forEach(function(a){
              html += '<div class="free-item">' + a + '</div>';
            });
          }

          // Dining
          if (portInfo.dining) {
            html += '<div class="dining-box">' + portInfo.dining + '</div>';
          }

          // Tips
          if (portInfo.tips && portInfo.tips.length) {
            portInfo.tips.forEach(function(tip){
              html += '<div class="tip-box">' + tip + '</div>';
            });
          }

          html += '</div>'; // end expandable
          html += '</div>'; // end body before toggle
          html += '<button class="day-toggle" onclick="toggleDayCard(this)">ğŸ“‹ ê¸°í•­ì§€ íˆ¬ì–´Â·ììœ ì—¬í–‰ ë³´ê¸° <span style="font-size:11px;">â–¼</span></button>';
          html += '</div>'; // end day-card
          return; // skip closing below
        } else {
          // No port info - basic content
          html += '<div class="day-headline">' + (d.port || 'ë¯¸ì •') + (d.type === 'ì¶œë°œ' ? 'ì—ì„œ ìŠ¹ì„ í•©ë‹ˆë‹¤.' : d.type === 'ë„ì°©' ? 'ì— ë„ì°©í•©ë‹ˆë‹¤.' : 'ì— ê¸°í•­í•©ë‹ˆë‹¤.') + '</div>';
        }

        html += '</div>'; // end body
        html += '</div>'; // end day-card
      });

      document.getElementById('cd-itinerary-detail').innerHTML = html;
    }

    // Cabins
    var cabins = c.cabins || [];
    if (cabins.length > 0) {
      document.getElementById('cd-cabins-section').style.display = '';
      var cabinHtml = '';
      cabins.forEach(function(cab){
        var avail = cab.available !== false;
        var csym = cab.currency === 'EUR' ? 'â‚¬' : '$';
        cabinHtml += '<div class="cabin-card' + (!avail ? ' unavailable' : '') + '">';
        cabinHtml += '<div class="cabin-type">' + (cab.type || cab.typeEn || '') + '</div>';
        if (cab.typeEn && cab.type) cabinHtml += '<div class="cabin-type-en">' + cab.typeEn + '</div>';
        if (cab.desc) cabinHtml += '<div style="font-size:12px;color:#888;margin-top:4px;">' + cab.desc + '</div>';
        if (avail && cab.priceFrom) {
          cabinHtml += '<div class="cabin-price">' + csym + Number(cab.priceFrom).toLocaleString() + '~</div>';
        } else if (!avail) {
          cabinHtml += '<div class="cabin-price na">ë§¤ì§„</div>';
        } else {
          cabinHtml += '<div class="cabin-price na">ê°€ê²©ë¬¸ì˜</div>';
        }
        cabinHtml += '</div>';
      });
      document.getElementById('cd-cabins').innerHTML = cabinHtml;
    }

    // Included / Excluded
    var included = c.included || ['í¬ë£¨ì¦ˆ ìŠ¹ì„  (' + nights + 'ë°•)', 'ë©”ì¸ ë‹¤ì´ë‹ & ë·”í˜ ì‹ì‚¬', 'ì„ ë‚´ ì—”í„°í…Œì¸ë¨¼íŠ¸', 'ìˆ˜ì˜ì¥ & í”¼íŠ¸ë‹ˆìŠ¤ ì´ìš©', 'ê¸°ë³¸ ê°ì‹¤ ì„œë¹„ìŠ¤'];
    var excluded = c.excluded || ['í•­ê³µí¸', 'ìŠ¤í˜ì…œí‹° ë ˆìŠ¤í† ë‘', 'ìŒë£Œ íŒ¨í‚¤ì§€', 'ê¸°í•­ì§€ ê´€ê´‘ (Shore Excursion)', 'ì—¬í–‰ìë³´í—˜'];
    document.getElementById('cd-include-section').style.display = '';
    document.getElementById('cd-include-grid').innerHTML =
      '<div><h3 style="color:#2e7d32;margin-bottom:12px;">âœ… í¬í•¨ ì‚¬í•­</h3><ul class="include-list included">' +
      included.map(function(i){ return '<li>' + i + '</li>'; }).join('') +
      '</ul></div>' +
      '<div><h3 style="color:#c62828;margin-bottom:12px;">âŒ ë¶ˆí¬í•¨ ì‚¬í•­</h3><ul class="include-list excluded">' +
      excluded.map(function(i){ return '<li>' + i + '</li>'; }).join('') +
      '</ul></div>';

    // Ship - use shipsDB for enhanced info
    var shipInfo = shipsDB[c.ship] || {};
    var tonnage = c.shipTonnage || shipInfo.tonnage || '';
    var passengers = c.shipPassengers || shipInfo.passengers || '';
    var shipYear = c.shipYear || shipInfo.year || '';
    var facilities = shipInfo.facilities || [];

    if (tonnage || passengers || shipYear || facilities.length) {
      document.getElementById('cd-ship-section').style.display = '';
      document.getElementById('cd-ship-title').textContent = 'ğŸš¢ ì„ ë°• ì†Œê°œ - ' + (c.ship || '');
      var specs = '';
      if (tonnage) specs += '<div class="ship-spec"><div class="label">í†¤ìˆ˜</div><div class="value">' + tonnage + '</div></div>';
      if (passengers) specs += '<div class="ship-spec"><div class="label">ìŠ¹ê° ìˆ˜</div><div class="value">' + passengers + '</div></div>';
      if (shipYear) specs += '<div class="ship-spec"><div class="label">ì·¨í•­ë…„ë„</div><div class="value">' + shipYear + '</div></div>';
      document.getElementById('cd-ship-specs').innerHTML = specs;

      // Facilities tabs
      if (facilities.length > 0) {
        var facSection = document.getElementById('cd-ship-facilities');
        facSection.style.display = '';
        var tabsHtml = '';
        facilities.forEach(function(f, i) {
          tabsHtml += '<div class="facility-tab' + (i === 0 ? ' active' : '') + '" data-idx="' + i + '" onclick="switchFacility(this)">' + f.name + '</div>';
        });
        document.getElementById('cd-facility-tabs').innerHTML = tabsHtml;

        // Show first facility
        showFacility(facilities[0]);
        window._facilities = facilities;
      }
    }

    // Inquiry
    function doInquiry(){
      if (typeof openInquiry === 'function') {
        openInquiry(c.title, c.departureDate, c.priceFrom, c.cruiseLineName, c.ship, (ports.join(', ')));
      }
    }
    document.getElementById('cd-inquiry-hero').addEventListener('click', doInquiry);
    document.getElementById('cd-inquiry-bottom').addEventListener('click', doInquiry);

    document.title = (c.title || 'í¬ë£¨ì¦ˆ ìƒì„¸') + ' | í¬ë£¨ì¦ˆë§í¬';
    document.getElementById('cruise-detail-loading').style.display = 'none';
    document.getElementById('cruise-detail-content').style.display = '';
  }
})();

function showFacility(f) {
  var html = '<div class="facility-desc"><h4>' + f.name + '</h4><p>' + (f.desc || '') + '</p></div>';
  document.getElementById('cd-facility-content').innerHTML = html;
}

function switchFacility(tab) {
  var tabs = document.querySelectorAll('.facility-tab');
  tabs.forEach(function(t){ t.classList.remove('active'); });
  tab.classList.add('active');
  var idx = parseInt(tab.getAttribute('data-idx'));
  if (window._facilities && window._facilities[idx]) {
    showFacility(window._facilities[idx]);
  }
}

function toggleDayCard(btn) {
  var card = btn.closest('.day-card');
  var expandable = card.querySelector('.day-expandable');
  if (expandable) {
    var isOpen = expandable.classList.contains('open');
    expandable.classList.toggle('open');
    btn.innerHTML = isOpen ? 'ğŸ“‹ ê¸°í•­ì§€ íˆ¬ì–´Â·ììœ ì—¬í–‰ ë³´ê¸° <span style="font-size:11px;">â–¼</span>' : 'ğŸ“‹ ì ‘ê¸° <span style="font-size:11px;">â–²</span>';
  }
}
</script>
